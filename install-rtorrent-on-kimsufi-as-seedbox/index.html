
<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>在kimsufi服务器上安装rtorrent做seedbox的步骤 - blacktulip</title>
	<meta name="author" content="Qing Wang">

	
	<meta name="description" content="在kimsufi服务器上安装rtorrent做seedbox的步骤 Sep 24th, 2009 为什么用kimsufi？ A：因为它便宜或者说性价比高。这是显而易见的一点。
B：因为大家都用它。看到这个理由，了解PT工作原理的人应该会心一笑吧。 为什么用rtorrent？ &hellip;">
	

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

	<link href="http://feeds.feedburner.com/blacktulipcn" rel="alternate" title="blacktulip" type="application/atom+xml">
	
	<link rel="canonical" href="http://webabie.com/install-rtorrent-on-kimsufi-as-seedbox/">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	<link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,400,700' rel='stylesheet' type='text/css'>
	<!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

</head>


<body>
	<div class="container">
		<div class="left-col">
			<div class="intrude-less">
			<header id="header" class="inner"><nav id="main-nav"><ul class="main-navigation">
  <li><a href="/">网贝</a></li>
  <li><a href="/blog/archives">文章列表</a></li>
  <li><a href="http://twitter.com/blacktulip">Twitter</a></li>
  <li><a href="http://blog.due.io/">English Blog</a></li>
</ul>
</nav>
<!-- <nav id="sub-nav">
	<div class="social">
		
		
		
		<a class="twitter" href="http://twitter.com/blacktulip" title="Twitter">Twitter</a>
		
		
		
		
		
		
		
		
		<a class="rss" href="http://feeds.feedburner.com/blacktulipcn" title="RSS">RSS</a>
		
	</div>
</nav> -->
<div class="profile-container">
  <div class="profilepic">
    <script src="/javascripts/md5.js"></script>
    <script type="text/javascript">
$(function(){
  $('.profilepic').append("<img src='http://www.gravatar.com/avatar/" + MD5("blacktulip@gmail.com") + "?s=160' alt='Profile Picture' style='width: 160px;' />");
});
    </script>
  </div>
  <hgroup>
  <h1 class="site-title"><a href="/">blacktulip</a></h1>
  
  <p class="site-subtitle">编程学徒 | 爹地 | 急需减肥 <br /> Canterbury, Kent, UK</p>
  
  </hgroup>
  
</div>
</header>
			</div>
		</div>
		<div class="mid-col">
			
				
			
			<div class="mid-col-container">
				<div id="content" class="article-inner"><article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  
	<h1 class="title" itemprop="name">在kimsufi服务器上安装rtorrent做seedbox的步骤</h1>
  








  



  <div class="post-date"><time datetime="2009-09-24T00:00:00+01:00" data-updated="true" itemprop="datePublished">Sep 24<span>th</span>, 2009</time></div>
	<div class="entry-content" itemprop="articleBody"><h4>为什么用kimsufi？</h4>

<p>A：因为它便宜或者说性价比高。这是显而易见的一点。
B：因为大家都用它。看到这个理由，了解PT工作原理的人应该会心一笑吧。</p>

<h4>为什么用rtorrent？</h4>

<p>实际上我是先尝试了wine+utorrent的，能成功跑起来，wine+ut的好处是资源占用小，功能齐全，设置方便。但也有其缺点，就是目录监视自动下载有时候会不动，而且种子启动时连peers慢。权衡之下我还是觉得rtorrent稍微靠谱些。除了原生主义外，葡头告诉我Sct这个盒子站rt的效率高，也是个重大因素，虽然我还没Sct的号。(BTW: 谁如果有邀请的话砸一个吧。)</p>

<p>本文前半部分参考<a href="http://filesharingtalk.com/vb3/f-guides-and-tutorials-65/t-naqs-complete-setup-guide-linux-seedboxes-fedora-corecentosdebianubuntu-281331">这篇教程</a>，修正了不少。</p>

<p>第一步：租个kimsufi服务器，方法不在本文讨论范围内，略。</p>

<p>第二步：环境配置</p>

<ul>
<li><strong>租服务器的时候，选Ubuntu 8.10 english</strong>，这是我一次一次重灌系统得出的经验，debian 5, ubuntu 9.04以及centos 5.3都会出问题，只有ubuntu 8.10能顺利完成所有步骤。当然这是我功力有限导致的。但既然有一个系统能简单完成，我们就不必没有困难创造困难了。</li>
<li>一开始root登陆，马上 passwd 换掉密码，rm .ssh/authorized_keys2 删掉这个key，SSHD需要进一步安全配置，不过现在先这样，最后再说。/etc/init.d/ssh restart 重启SSHD。SELinux和iptables缺省都没有安装，很好，我们现在不需要。</li>
<li>更新系统软件包，运行 apt-get update 和 apt-get upgrade 。</li>
<li>把需要的东西装好：</li>
</ul>


<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>apt-get install vnc4server xterm fluxbox vsftpd firefox curl
</span><span class='line'>apt-get install xfonts-base xfonts-75dpi xfonts-100dpi
</span><span class='line'>update-menus
</span></code></pre></td></tr></table></div></figure>


<p>wine不用装，因为我们不用utorrent，如果你想用utorrent就得装wine，不提。</p>

<ul>
<li>搞搞vnc，为什么我们不用wine还要搞vnc？其实是可以不用的，但有些PT站的IRC下载脚本要拿cookie，用 vnc里头运行一下浏览器可以方便地得到cookie。当然我相信用curl之类的肯定更快更好，不过我这不是不懂嘛，呵呵。而且有个远程桌面环境也不是什么坏事。</li>
</ul>


<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nb">cd</span>
</span><span class='line'>mkdir .vnc
</span><span class='line'>vi .vnc/xstartup
</span></code></pre></td></tr></table></div></figure>


<p>里头加一行 fluxbox 然后:wq</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>chmod +x .vnc/xstartup
</span><span class='line'>vncserver :1 //这行就启动vnc了，设定一个连接密码。要关闭，用 vncserver -kill :1
</span></code></pre></td></tr></table></div></figure>


<p>如果追求安全可以用vncserver -localhost :1，然后用putty搭桥过去，不过没必要，用完关掉就是了。</p>

<ul>
<li>先试试vnc好不好用再说，到<a href="http://www.realvnc.com/cgi-bin/download.cgi">这里</a>下载个vncviewer然后填上box的ip连过去试试看，连通后右键菜单里头找firefox看能不能运行。都顺利完成之后，就先放一边吧，呆会再用它。</li>
<li>该装rtorrent了，如果你要自己装的话可能会抓狂，不推荐，既然有现成的安装脚本就应该好好利用。我是在what.cd的论坛里面找到这个好东西的，只需这样：</li>
</ul>


<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nb">cd</span>
</span><span class='line'>wget http://76.76.238.18/wtorrent-installer.tar
</span><span class='line'>tar xf wtorrent-installer.tar
</span></code></pre></td></tr></table></div></figure>


<p>按说下一步就该运行脚本了&hellip;错，先把配置文件改好再说。</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>vi wtorrent-installer/.rtorrent.rc
</span></code></pre></td></tr></table></div></figure>


<p>怎么改呢？我推荐这样：</p>

<p>on_finished = move_complete,&hellip;&hellip;这一行注释掉。你要移动要重新做种，不好。</p>

<p>min_peers这一些就酌情改改即可。</p>

<p>download_rate设成7000，全速下载的时候就不能全速上传。如果你租的是kimsufi或者ovh的高配服务器，可能不用改。</p>

<p>放文件的目录和自动下载的监视目录自己看着办。</p>

<p>port_range我喜欢改后一点，不过随便。</p>

<p>check_hash=no 一定要no，否则亏很大，下载完了hash一边再做种，渣都没得留给你了。</p>

<p>加密能加就加吧。</p>

<p>dht=off;peer_exchange=no，这两个没啥可说的，一定要这样设。</p>

<p>别的就不用管了。:wq吧</p>

<ul>
<li>总算可以运行安装脚本了 wtorrent-installer/install.sh 这个脚本给你直接都装好开始运行，所以就不用费别的心了。访问 <a href="http://%E4%BD%A0%E7%9A%84ip/">http://%E4%BD%A0%E7%9A%84ip/</a> 去设置一下wtorrent(就是rtorrent的web前端界面)就能直接用了。注意会给你新建一个叫rt的用户。</li>
</ul>


<p>如若你改了配置文件要重启rtorrent，用命令 /etc/init.d/rtorrent restart</p>

<p>第三步：自动化一下，否则没啥意义。</p>

<p>嗯&hellip;今天不想写了，下一篇再说吧。</p>

<p>P.S. 这种seedbox刷HDC一天200GB很轻松，CHD这种有2x的就更不用说了，TL之类的更是三天1T没问题。只有What.CD&hellip;对付不了。</p>
</div>

</article>

	<div class="share">
	<div class="share_icon_group addthis_toolbox addthis_default_style addthis_32x32_style">
	
  <a class="share_icon addthis_button_preferred_1"></a>
	
	
	
	<a class="share_icon addthis_button_preferred_4"></a>
	</div>
  <script type="text/javascript" src="http://s7.addthis.com/js/300/addthis_widget.js#pubid="></script>
</div>



<section id="comment">
    <h1 class="title">Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
</section>
</div>
			</div>
			<footer id="footer" class="inner"><p>
  版权所有 &copy; 2013 - blacktulip -
  <span class="credit">使用 <a href="http://octopress.org">Octopress</a> 搭建</span>
</p>

<p>Theme: <a href="https://github.com/qingwang/octopress-theme-yinyang">YinYang</a></p>
</footer>
			<script src="/javascripts/slash.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->


<script type="text/javascript">
      var disqus_shortname = 'webabiecom';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://webabie.com/install-rtorrent-on-kimsufi-as-seedbox/';
        var disqus_url = 'http://webabie.com/install-rtorrent-on-kimsufi-as-seedbox/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-267274-12']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>




		</div>
	</div>
</body>
</html>
