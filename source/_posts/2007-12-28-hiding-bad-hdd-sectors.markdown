---
layout: post
title: 屏蔽硬盘坏道的一次经历
categories:
- 互联网乱弹
tags:
- diskgen
- 坏区
- 坏道
- 屏蔽
- 硬盘
- 软件
published: true
comments: true
---
偶们牧师的一块40G硬盘坏了，他是在给别人装机，blabla把所有东西都装好以后才发现的，可怜啊，功夫白费了。我去看了一下发现只有一点点坏道，而且相当集中，觉得可以设法屏蔽掉。

说起来容易，我是第一次干这个活儿，据完成过程来看，虽然不艰巨，倒也算得上曲折了。

首先要选定一个工具，论坛+放狗，发现在我的windows 2003下能用的分区软件不但屈指可数，而且屈一只手的指就可数。找了个acronis的partition expert试了试，发现没法扫盘，没法按柱面分区，一边儿凉快去吧。看来实在没办法只能设法进DOS用diskgen搞了。

我这从Dos 3.x时代过来的人却对进DOS相当的不感冒，为啥呢，因为以前我没有软驱，现在倒是捡了一个，问题变成了没软盘...好不容易翻出两张来，经检测全是坏的...总之软盘启动这条路算是完了。 

然后试验光盘启动，找了张cd-rw，装了个easyboot (btw, 这玩意儿我还有正版)。然后按照说明做做做，把菜单项一改成run diskgen.exe，死活就是运行不了，期间重启n次，焦头烂额...

实在没办法，只好试验最后一招--U盘启动，这对我也是新鲜事物。搜了一下发现好像不算太难，下载了个usboot 1.7，先用FDD模式做了一次，启动倒是很顺利，一运行diskgen立马出错。换HDD模式又做一次，症状依旧，看来diskgen本身有问题。

基本上我要打算放弃了，突然间想到：diskgen启动出错，多半是在检测硬盘的时候出现了问题。为啥会出问题呢？难道有什么硬盘它不认识么？我的主盘是两块SATA做的RAID 0，多半问题出在这儿了。想到这里立即把两块硬盘电源拔掉，这回终于进去了。

以后就好办了，diskgen扫盘，type文件记下柱面位置，重新进diskgen按柱面分区，前后给它留了100个柱面的位置，估计一时半会扩散不过来吧。第一次还忘了hide分区，又重复操作了一次才算完......

总结：电脑这些毛病解决起来一般原理都很简单，真正操作起来总会有这样那样的小问题困扰，最重要的就是经验，只要亲手成功解决一两次，以后就方便了，嘿嘿。
